<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Our Universe</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
      href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400..900;1,400..900&family=Dancing+Script:wght@400..700&display=swap"
      rel="stylesheet"
    />
    <style>
      /* Custom Fonts */
      body {
          font-family: 'Playfair Display', serif;
          background-color: #00000f;
          overflow-x: hidden;
          cursor: none; /* Hide default cursor for custom one */
      }

      .heading-font {
          font-family: 'Dancing Script', cursive;
      }

      /* Canvas Background */
      #interactive-bg {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          z-index: -1;
      }

      /* Custom Cursor */
      #cursor-glow {
          position: fixed;
          width: 40px;
          height: 40px;
          border-radius: 50%;
          background: rgba(240, 98, 146, 0.3);
          box-shadow: 0 0 20px #f06292;
          pointer-events: none;
          transform: translate(-50%, -50%);
          transition: transform 0.1s ease-out;
          z-index: 9999;
      }

      /* Envelope Animation */
      #envelope {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background-color: rgba(0, 0, 15, 0.9);
          z-index: 100;
          display: flex;
          justify-content: center;
          align-items: center;
          cursor: pointer;
          transition: opacity 1s ease-in-out;
      }

      .envelope-wrapper {
          position: relative;
          width: 300px;
          height: 200px;
      }

      .envelope-flap {
          position: absolute;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: #4a0e6c;
          transform-origin: top;
          transition: transform 1.5s cubic-bezier(0.68, -0.55, 0.27, 1.55);
          border-top-left-radius: 10px;
          border-top-right-radius: 10px;
      }

      .envelope-body {
          position: absolute;
          top: 50%;
          left: 0;
          width: 100%;
          height: 50%;
          background: #6a1b9a;
          border-bottom-left-radius: 10px;
          border-bottom-right-radius: 10px;
      }

      .envelope-seal {
          position: absolute;
          top: 45%;
          left: 50%;
          transform: translate(-50%, -50%);
          width: 40px;
          height: 40px;
          background: #f06292;
          border-radius: 50%;
          display: flex;
          justify-content: center;
          align-items: center;
          color: white;
          font-size: 24px;
          box-shadow: 0 0 15px #f06292;
      }

      #envelope.opened .envelope-flap {
          transform: rotateX(180deg);
      }

      #envelope.opened {
          opacity: 0;
          pointer-events: none;
      }

      /* Side PNG Images */
      .side-image {
          position: fixed;
          width: 150px; /* Adjust size as needed */
          height: auto;
          z-index: 10;
          animation: float 8s ease-in-out infinite;
          transition: transform 0.3s ease, filter 0.3s ease;
          filter: drop-shadow(0 0 5px rgba(255, 255, 255, 0));
      }
      .side-image:hover {
          transform: scale(1.1) rotate(5deg);
          filter: drop-shadow(0 0 15px #f06292);
      }
      .side-image.glowing {
          filter: drop-shadow(0 0 20px #f06292);
      }

      #left-image {
          top: 25%;
          left: 2%;
      }

      #right-image {
          top: 45%;
          right: 2%;
          animation-delay: -4s;
      }

      @keyframes float {
          0%, 100% { transform: translateY(0px); }
          50% { transform: translateY(-25px); }
      }

      /* Main Content Styling */
      .content-wrapper {
          opacity: 0;
          transform: translateY(20px);
          transition: opacity 1.5s ease-out 1s, transform 1.5s ease-out 1s;
      }

      .content-wrapper.visible {
          opacity: 1;
          transform: translateY(0);
      }

      /* Grid Gallery Styling */
      .grid-gallery {
          display: grid;
          grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
          gap: 2rem;
          max-w-5xl mx-auto;
      }
      .gallery-item-wrapper {
          position: relative;
          cursor: pointer;
          overflow: hidden;
          border-radius: 15px;
          animation: float-item 10s ease-in-out infinite;
      }
      .gallery-item-wrapper:nth-child(2n) {
          animation-delay: -5s;
      }
      @keyframes float-item {
           0%, 100% { transform: translateY(0px) rotate(-1deg); }
          50% { transform: translateY(-15px) rotate(1deg); }
      }

      .gallery-photo {
          width: 100%;
          height: 100%;
          object-fit: cover;
          border-radius: 15px;
          transition: transform 0.5s ease;
          border: 3px solid transparent;
      }
      .gallery-item-wrapper:hover .gallery-photo {
          transform: scale(1.1);
          border-color: rgba(240, 98, 146, 0.7);
          box-shadow: 0 0 25px #f06292;
      }

      .photo-description {
          position: absolute;
          bottom: 0;
          left: 0;
          width: 100%;
          padding: 1rem;
          background: linear-gradient(to top, rgba(0,0,0,0.8), transparent);
          color: white;
          font-family: 'Dancing Script', cursive;
          font-size: 1.5rem;
          text-align: center;
          opacity: 0;
          transform: translateY(100%);
          transition: opacity 0.5s ease, transform 0.5s ease;
          text-shadow: 0 0 5px black;
      }
      .gallery-item-wrapper:hover .photo-description {
          opacity: 1;
          transform: translateY(0);
      }

      /* Lightbox Styling */
      #lightbox {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0, 0, 15, 0.9);
          backdrop-filter: blur(10px);
          z-index: 200;
          display: flex;
          justify-content: center;
          align-items: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.5s ease;
      }
      #lightbox.visible {
          opacity: 1;
          pointer-events: all;
      }
      .lightbox-content {
          position: relative;
          max-width: 80vw;
          max-height: 90vh;
          transform: scale(0.8);
          transition: transform 0.5s ease;
      }
      #lightbox.visible .lightbox-content {
          transform: scale(1);
      }
      #lightbox-img {
          max-width: 100%;
          max-height: 75vh;
          border-radius: 15px;
          box-shadow: 0 0 40px #c192f0, 0 0 60px #f06292;
      }
      #lightbox-caption {
          color: white;
          text-align: center;
          margin-top: 1rem;
          font-size: 2rem;
          font-family: 'Dancing Script', cursive;
      }
      #close-lightbox {
          position: absolute;
          top: -15px;
          right: -15px;
          background: white;
          color: #4a0e6c;
          border-radius: 50%;
          width: 40px;
          height: 40px;
          font-size: 2rem;
          line-height: 40px;
          text-align: center;
          cursor: pointer;
          border: 2px solid #4a0e6c;
      }

      /* Clickable Star Message */
      #star-message {
          position: fixed;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%) scale(0.8);
          background: rgba(25, 12, 40, 0.8);
          backdrop-filter: blur(10px);
          color: #f0c3d0;
          padding: 20px 30px;
          border-radius: 15px;
          border: 1px solid #f06292;
          font-family: 'Dancing Script', cursive;
          font-size: 2rem;
          z-index: 101;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.5s, transform 0.5s;
      }
      #star-message.visible {
          opacity: 1;
          transform: translate(-50%, -50%) scale(1);
      }

      /* Dynamic Button Section */
      #journey-section {
          padding: 5rem 0;
          position: relative;
      }
      #journey-button {
          position: relative;
          display: inline-block;
          padding: 20px 40px;
          font-size: 1.5rem;
          font-family: 'Dancing Script', cursive;
          color: white;
          text-decoration: none;
          background-color: #f06292;
          border-radius: 50px;
          border: 2px solid #ffc1e3;
          box-shadow: 0 0 15px #f06292, 0 0 30px #f06292, inset 0 0 10px #ffc1e3;
          transition: all 0.3s ease;
          animation: pulse-glow 3s infinite ease-in-out;
      }
      @keyframes pulse-glow {
          0%, 100% { transform: scale(1); box-shadow: 0 0 15px #f06292, 0 0 30px #f06292, inset 0 0 10px #ffc1e3; }
          50% { transform: scale(1.05); box-shadow: 0 0 25px #f06292, 0 0 50px #f06292, inset 0 0 15px #ffc1e3; }
      }
      #journey-button:hover {
          transform: scale(1.1);
          background-color: #ff80ab;
      }
      .sparkle {
          position: absolute;
          background: white;
          border-radius: 50%;
          pointer-events: none;
          animation: sparkle-out 0.8s forwards;
      }
      @keyframes sparkle-out {
          from { transform: scale(1); opacity: 1; }
          to { transform: scale(0); opacity: 0; }
      }

      /* Future Prediction Section */
      #future-predictor-img {
          animation: pulse-glow-orb 4s infinite ease-in-out;
          filter: drop-shadow(0 0 15px #06b6d4);
      }
      @keyframes pulse-glow-orb {
          0%, 100% { transform: scale(1); filter: drop-shadow(0 0 15px #06b6d4); }
          50% { transform: scale(1.05); filter: drop-shadow(0 0 25px #06b6d4); }
      }

      /* Loading Overlay */
      #loading-overlay {
          position: fixed;
          top: 0;
          left: 0;
          width: 100%;
          height: 100%;
          background: rgba(0,0,15,0.95);
          backdrop-filter: blur(5px);
          z-index: 300;
          display: flex;
          justify-content: center;
          align-items: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.5s ease;
      }
      #loading-overlay.visible {
          opacity: 1;
          pointer-events: all;
      }
      .loading-content {
          text-align: center;
      }
      #loading-text {
          font-family: 'Dancing Script', cursive;
          font-size: 2.5rem;
          color: #f0c3d0;
          margin-top: 2rem;
          text-shadow: 0 0 10px #f06292;
      }
      .loading-spinner {
          width: 100px;
          height: 100px;
          border: 5px solid transparent;
          border-top: 5px solid #f06292;
          border-right: 5px solid #f06292;
          border-radius: 50%;
          animation: spin 1.5s linear infinite;
          margin: 0 auto;
          position: relative;
      }
      .loading-spinner::before {
          content: '‚ô•';
          position: absolute;
          top: 50%;
          left: 50%;
          transform: translate(-50%, -50%);
          font-size: 2.5rem;
          color: #f06292;
          animation: pulse-heart 1.5s infinite ease-in-out;
      }
      @keyframes spin {
          to { transform: rotate(360deg); }
      }
      @keyframes pulse-heart {
          0%, 100% { transform: translate(-50%, -50%) scale(1); }
          50% { transform: translate(-50%, -50%) scale(1.2); }
      }

      /* Future Photo Lightbox */
      #future-lightbox {
          position: fixed;
          top: 0; left: 0; width: 100%; height: 100%;
          background: rgba(0, 0, 15, 0.9);
          backdrop-filter: blur(10px);
          z-index: 400;
          display: flex;
          justify-content: center;
          align-items: center;
          opacity: 0;
          pointer-events: none;
          transition: opacity 0.5s ease;
      }
      #future-lightbox.visible {
          opacity: 1;
          pointer-events: all;
      }
      .future-lightbox-content {
          text-align: center;
      }
      #future-photo {
          max-width: 80vw;
          max-height: 80vh;
          border-radius: 15px;
          box-shadow: 0 0 40px #c192f0, 0 0 60px #f06292;
          animation: reveal-future 1.5s forwards;
          opacity: 0;
      }
      @keyframes reveal-future {
          from {
              opacity: 0;
              transform: scale(0.8) rotate(-5deg);
          }
          to {
              opacity: 1;
              transform: scale(1) rotate(0deg);
          }
      }
      #close-future-lightbox {
          position: absolute;
          top: 1rem; right: 1rem;
          background: white; color: #4a0e6c;
          border-radius: 50%; width: 40px; height: 40px;
          font-size: 2rem; line-height: 40px; text-align: center;
          cursor: pointer; border: 2px solid #4a0e6c;
      }

      /* Wise Quote Animation */
      .quote-animation {
          opacity: 0;
          transform: translateY(10px);
          animation: fadeInQuote 2s ease-out 1.5s forwards;
      }

      @keyframes fadeInQuote {
          to {
              opacity: 1;
              transform: translateY(0);
          }
      }
    </style>
  </head>
  <body class="text-white">
    <!-- NEW: Audio Element -->
    <audio id="background-music" loop>
      <!-- Ganti URL ini dengan URL lagu Anda dari Jukehost -->
      <source
        src="https://audio.jukehost.co.uk/0J6IFB9oGiGF4a3DamcZFwte6PNixejO"
        type="audio/mpeg"
      />
      Browser Anda tidak mendukung elemen audio.
    </audio>

    <!-- Interactive Canvas Background -->
    <canvas id="interactive-bg"></canvas>
    <div id="cursor-glow"></div>

    <!-- Opening Envelope Animation -->
    <div id="envelope">
      <div class="envelope-wrapper">
        <div class="envelope-flap"></div>
        <div class="envelope-body"></div>
        <div class="envelope-seal">&hearts;</div>
        <p
          class="absolute -top-16 w-full text-center text-2xl heading-font text-pink-200"
        >
          Untuk Salsabila Azcutee
        </p>
        <p
          class="absolute -bottom-12 w-full text-center text-lg tracking-widest animate-pulse"
        >
          Pencet ini plis bang!
        </p>
      </div>
    </div>

    <!-- Floating Side Images -->
    <!-- IMPORTANT: Ganti placeholder URL ini dengan gambar PNG transparan Anda -->
    <img
      src="Subje1.png"
      alt="Cute illustration of you"
      id="left-image"
      class="side-image"
    />
    <img
      src="Subject.png"
      alt="Cute illustration of your girlfriend"
      id="right-image"
      class="side-image"
    />

    <!-- Main Content -->
    <main
      id="main-content"
      class="content-wrapper container mx-auto px-6 py-24 text-center"
    >
      <!-- Love Letter Section -->
      <section class="mb-24">
        <!-- Wise Quote -->
        <p
          class="quote-animation text-xl md:text-2xl text-purple-300 italic mb-12"
          style="text-shadow: 0 0 10px #c192f0"
        >
          Dalam Luasnya Antariksa dan Panjangnya Waktu,
        </p>
        <p
          class="quote-animation text-xl md:text-2xl text-purple-300 italic mb-12"
          style="text-shadow: 0 0 10px #c192f0"
        >
          Senang Rasanya Bisa Menempati Planet dan Zaman yang Sama dengan Azka
        </p>

        <h1
          class="heading-font text-6xl md:text-8xl text-pink-300 mb-8"
          style="text-shadow: 0 0 15px #f06292"
        >
          My Dearest Universe,
        </h1>
        <div
          class="max-w-3xl mx-auto text-lg md:text-xl leading-loose text-gray-300 bg-black bg-opacity-20 p-8 rounded-xl backdrop-blur-sm"
        >
          <p class="mb-6">
            Sayang, Azcute, Azkayang, Azkyut, Azqueen hampir aja juli selesai.
            Janji aku buat setiap bulan bikin love letter buat kamu hampir ga
            terwujuddd wkskwk. Prinsip aku, buat kamu itu disempatkan waktu.
            Bukan nanti nunggu sempat. Ternyata aku masi bisa nyempetin waktu
            sambil ngerjain skripsi tipis tipis hehe.
          </p>
          <p class="mb-6">
            Throwbackk dulu ke date keduaaaaaa.... jujur date kedua jadi momen
            buat aku bener bener makin sayang ke kamu walaupun waktunya lebih
            singkat. Kita main di happy timeee ratingnya 99999999999999/5
            ternyata seasik itu main bareng cewe yang aku bener bener
            cintaaaaa.. wow ga kebayang dulu trnyata seindah ituuuuu. walaupun
            agak deg2an hape kamu ketinggalan wkwkw. Tapi aku seneng banget kita
            bisa main bareng terus sambil di rekam. Rasanya pengenn tiap minggu
            kayak gituuu... lanjutttt kita karaoke di happy time. First aku
            tiumm cewe cantik sedunia yg bener2 aku sukaaaa dan aku juga
            ditiumnya... Waktu itu aku pikir langsung, wah inimah harus seumur
            hidup sama akuuuu. Bener bener momen gong selama ngedate setelah
            kita jalan pulang di pantai sambil dipeyuk kamu. itu momen paling
            gong bagi aku dan masuk ke core memori aku. gabakal bisa kulupain.
            Ramennn dateeee aku sukakkk kita banyak foto2 disituuu. ngelive
            jugaaa. harinya terwujud juga ramen dateeeeeeeeee yeyyy. besoknya
            kita belajar bareng(kayaknya) sambil nonton bioskop. Genggam tangan
            kamu bener2 sesuatu. aku ngerasa waktu jalan cepet banget. pengen
            genggam tangan kamu terussssss hehe. aku harap nanti yaaaa...
          </p>
          <p class="mb-6">
            Sayang, maaf kalo kamu bosen sama aku. Mungkin bahasan kita itu itu
            aja dan itu wajar bangett kamu bosenn. apalagi aku mungkin gatau
            banyak hal soal kedokteran. Jadi mungkin komunikasi kita agak
            terganggu. Jujur, entah karena itu atau karena aku itu emang nyaman
            kalo itu2 doang. Soalnya lagu2 fav yg aku suka aku dengerin aja
            kayak First Love - Hikaru Utada sama Can't help falling in love -
            Elvis Presley itu sampe sekarang suka aku dengerin pdhl itu lagu
            favorit aku dari sd. makanya aku jarang update soal lagu2 hehe.
            Bukunya yg aku suka baca juga itu2 aja. btw sebelum deketin kamu aku
            punya hobi baca sama main game sebenernya. tapi dah gaada lagi. Aku
            lebih suka ngabisin waktu buat kamu. Sekali lagi, aku maaf banget
            sama kalo kamu sampe ga nyaman sama kebosanan sama aku mungkin
            bahasnya lily lily lily lily atau apapun. trnyata aku nyaman2 aja.
            tapi kamu engga. Komunikasi kita juga intens banget tiap hari.
            Mungkin kamu sampai jenuh gaada lagi yang bisa dibahas. Mulai
            sekarang aku harus belajar tentang kamu. Aku bakal belajar tentang
            kamu jadi tolong jangan kemana mana dulu yah. Tadi ngerasain banget
            hampanya ga chat sama kamu. Aku Sayang Kamu‚ù£‚ù£‚ù£‚ù£‚ù£‚ù£‚ù£
          </p>
          <p class="mb-6">
            Hubungan kita worth it gaa?? jujur aku gajago hitung hitungan kalo
            sama orang yang aku suka. Dari awal aku suka kamu ga mengharap
            apapun. Aku gapernah mikirin untung rugi kalo buat orang yang aku
            suka. Tapi kalo kamu mau hitung untung ruginya silahkann sayang. Aku
            gapernah maksa kamu buat ngasi aku balik. Kalo kamu kurang sreg sama
            aku pun gapapaüíóüíóüíóüíóüíóüíó
          </p>
          <p class="mb-6">
            Yang aku takutin kamuu bilang bosen itu kamu udah ngerasa kita
            gacocok lagi, kamu udah cape udah males sama aku. Aku bingung kamu
            itu becanda atau engga. tadi kamu bilanngnya becanda. tapi kamu
            bilang katanya emang bosen dikit. plis tolong kurangin mempermainkan
            aku soal ini. aku jadi gatau kalo kamu bosen beneran atau cuma
            becanda. kalo misal amit2 kejadian kamu bosen beneran dan aku
            ngiranya becanda. itu menyakitkan bgt, aku tetep excited banget buat
            becanda tapi trnyata kamu beneran bosen. Jadi minta tolong ya
            sayangü´∂ü´∂ü´∂ü´∂ü´∂
          </p>
          <p class="mb-6">
            Aku tetep kukuh sama kata kata aku. aku gabakal mundur kecuali kamu
            yang minta. Jadi kalau kamu bingung ini bakal kemana. aku bakal
            terus deketin kamuu. suka samaa kamu kalau kamu bener2 ga minta aku
            buat mundurü©∑ü©∑ü©∑ü©∑ü©∑
          </p>
          <p class="mb-6">
            Makasih ya sayangg buat respon kamuu cinta kamuuu yang kamu kasi ke
            akuuü•∫ü•∫ü•∫ü•∫ü•∫ü´∂ü´∂ü´∂ü´∂ü´∂ü´∂ aku bener bener ngerasa beruntung bisa suka
            sama kamu. padahal aku terlintas aja suka sama kamu waktu SMA(selain
            kamu cantik sihh hehe). tapi trnyata ga ekspek seindah itu dicintaii
            sama kamuuu cewe cantikk aku seduniaaa‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§‚ù§ Semoga
            masing-masing dari kita dikuatkan di hubungan iniiiiiii!! aku sangat
            harap hubungan ini itu sehatttttü©∑ü©∑ü©∑ü©∑ü©∑ü©∑ü©∑ü©∑
          </p>
          <p>
            Love Letter ini bakal jadi jurnal perjalanan kita. kejadian apa aja
            yang terjadi di satu bulan aku bikin ini. Pasti ada banyak kejadian
            di satu bulan hihi
          </p>
          <p class="mt-8 heading-font text-3xl text-pink-300">Sincerely,</p>
          <p class="heading-font text-3xl text-pink-300">Indra</p>
        </div>
      </section>

      <!-- Photo Gallery Section -->
      <section class="mb-24">
        <h2
          class="heading-font text-5xl md:text-7xl text-purple-300 mb-12"
          style="text-shadow: 0 0 15px #c192f0"
        >
          Our Constellation of Memories in June 2025
        </h2>
        <div class="grid-gallery">
          <!-- IMPORTANT: Ganti placeholder URL ini dengan foto-foto Anda -->
          <div class="gallery-item-wrapper">
            <img
              src="foto1.jpg"
              alt="A beautiful memory 1"
              class="gallery-photo"
            />
            <p class="photo-description">Main bareng di Happy Time!‚ù§Ô∏è</p>
          </div>
          <div class="gallery-item-wrapper">
            <img
              src="foto2.jpg"
              alt="A beautiful memory 2"
              class="gallery-photo"
            />
            <p class="photo-description">
              Momen Paling Aku Suka!! Karaoke Dateeüíûüíû
            </p>
          </div>
          <div class="gallery-item-wrapper">
            <img
              src="foto3.jpg"
              alt="A beautiful memory 3"
              class="gallery-photo"
            />
            <p class="photo-description">
              Akhirnya kesampean jugaa kamu pengen Ramen Dateeeee!!üíñüíñ
            </p>
          </div>
          <div class="gallery-item-wrapper">
            <img
              src="foto4.jpg"
              alt="A beautiful memory 4"
              class="gallery-photo"
            />
            <p class="photo-description">5% Belajar Bareng 95%‚ù£Ô∏è‚ù£Ô∏è‚ù£Ô∏è‚ù£Ô∏è‚ù£Ô∏è‚ù£Ô∏è</p>
          </div>
        </div>
      </section>

      <!-- Future Prediction Section -->
      <section id="prediction-section" class="mb-24 text-center">
        <h2
          class="heading-font text-5xl md:text-7xl text-cyan-300 mb-8"
          style="text-shadow: 0 0 15px #67e8f9"
        >
          A Glimpse Into Our Future
        </h2>
        <div
          id="future-predictor-wrapper"
          class="relative inline-block cursor-pointer"
        >
          <!-- IMPORTANT: Ganti placeholder URL ini dengan gambar Anda -->
          <img
            src="foto_kita.jpg"
            alt="Glimpse our future"
            id="future-predictor-img"
            class="h-80 mx-auto"
          />
          <p class="mt-4 text-lg heading-font text-cyan-200 animate-pulse">
            Klik gambarr ini cantikkk!!!
          </p>
        </div>
      </section>

      <!-- Journey Button Section -->
      <section id="journey-section">
        <a href="universe.html" id="journey-button"> Klikkk ini donk </a>
      </section>
    </main>

    <!-- Lightbox element -->
    <div id="lightbox">
      <div class="lightbox-content">
        <span id="close-lightbox">&times;</span>
        <img src="" id="lightbox-img" alt="Enlarged memory" />
        <p id="lightbox-caption"></p>
      </div>
    </div>

    <div id="star-message"></div>

    <!-- Loading Overlay -->
    <div id="loading-overlay">
      <div class="loading-content">
        <div class="loading-spinner"></div>
        <p id="loading-text">Memprediksi Masa Depan Kita Berdua...</p>
      </div>
    </div>

    <!-- Future Photo Lightbox -->
    <div id="future-lightbox">
      <div class="future-lightbox-content">
        <span id="close-future-lightbox">&times;</span>
        <!-- IMPORTANT: Ganti placeholder URL ini dengan foto "masa depan" Anda -->
        <img src="foto_masadepan.png" id="future-photo" alt="Our Future" />
      </div>
    </div>

    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const envelope = document.getElementById("envelope");
        const mainContent = document.getElementById("main-content");
        const backgroundMusic = document.getElementById("background-music"); // Get the audio element

        // --- Envelope Opening ---
        envelope.addEventListener("click", () => {
          envelope.classList.add("opened");
          mainContent.classList.add("visible");

          // Play the music
          if (backgroundMusic.paused) {
            backgroundMusic.play().catch((error) => {
              console.log("Autoplay dicegah oleh browser:", error);
            });
          }
        });

        // --- Grid Gallery & Lightbox Logic ---
        const galleryItems = document.querySelectorAll(".gallery-item-wrapper");
        const lightbox = document.getElementById("lightbox");
        const lightboxImg = document.getElementById("lightbox-img");
        const lightboxCaption = document.getElementById("lightbox-caption");
        const closeLightbox = document.getElementById("close-lightbox");
        const sideImages = document.querySelectorAll(".side-image");

        galleryItems.forEach((item) => {
          item.addEventListener("click", () => {
            const img = item.querySelector(".gallery-photo");
            const caption = item.querySelector(".photo-description");

            lightboxImg.src = img.src;
            lightboxCaption.textContent = caption.textContent;
            lightbox.classList.add("visible");
          });

          item.addEventListener("mouseenter", () => {
            sideImages.forEach((img) => img.classList.add("glowing"));
          });
          item.addEventListener("mouseleave", () => {
            sideImages.forEach((img) => img.classList.remove("glowing"));
          });
        });

        closeLightbox.addEventListener("click", () => {
          lightbox.classList.remove("visible");
        });
        lightbox.addEventListener("click", (e) => {
          if (e.target === lightbox) {
            lightbox.classList.remove("visible");
          }
        });

        // --- Interactive Canvas Background ---
        const canvas = document.getElementById("interactive-bg");
        const ctx = canvas.getContext("2d");
        let width,
          height,
          elements,
          mouse,
          isTransitioning = false,
          transitionProgress = 0;

        const config = {
          starCount: 200,
          planetCount: 5,
          asteroidCount: 15,
          particleCount: 30,
          cometFrequency: 0.998,
          mouseInteractionRadius: 75,
          clickableStarRadius: 20,
          buttonHoverSparkleCount: 20,
          clickTransitionSpeed: 0.02,
        };

        function init() {
          width = canvas.width = window.innerWidth;
          height = canvas.height = window.innerHeight;
          mouse = { x: width / 2, y: height / 2 };
          elements = [];
          for (let i = 0; i < config.starCount; i++) elements.push(new Star());
          for (let i = 0; i < config.planetCount; i++)
            elements.push(new Planet());
          for (let i = 0; i < config.asteroidCount; i++)
            elements.push(new Asteroid());
          for (let i = 0; i < config.particleCount; i++)
            elements.push(new Particle());
          elements.push(new Star(true));
        }

        class Star {
          constructor(isClickable = false) {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.vx = (Math.random() - 0.5) * 0.2;
            this.vy = (Math.random() - 0.5) * 0.2;
            this.radius = Math.random() * 1.5;
            this.alpha = Math.random() * 0.5 + 0.5;
            this.alphaChange = Math.random() * 0.02 - 0.01;
            this.isClickable = isClickable;
            if (this.isClickable) {
              this.radius = 3;
              this.vx = 0;
              this.vy = 0;
            }
          }
          draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            if (this.isClickable) {
              ctx.fillStyle = `rgba(255, 223, 186, ${this.alpha})`;
              ctx.shadowColor = "#ffd700";
              ctx.shadowBlur = 15;
            } else {
              ctx.fillStyle = `rgba(255, 255, 255, ${this.alpha})`;
            }
            ctx.fill();
            ctx.shadowBlur = 0;
          }
          update() {
            this.x += this.vx;
            this.y += this.vy;
            this.alpha += this.alphaChange;
            if (this.alpha <= 0.2 || this.alpha >= 1) this.alphaChange *= -1;
            if (this.x < 0 || this.x > width) this.vx *= -1;
            if (this.y < 0 || this.y > height) this.vy *= -1;
          }
        }
        class Planet {
          constructor() {
            this.orbitX = width / 2;
            this.orbitY = height / 2;
            this.radius = Math.random() * 5 + 3;
            this.distance =
              Math.random() * (Math.min(width, height) / 2.5 - 50) + 50;
            this.angle = Math.random() * Math.PI * 2;
            this.speed =
              (Math.random() * 0.002 + 0.0005) * (Math.random() > 0.5 ? 1 : -1);
            this.color = `hsl(${Math.random() * 50 + 280}, 70%, 70%)`;
            this.hasRing = Math.random() > 0.6;
          }
          draw() {
            const x = this.orbitX + Math.cos(this.angle) * this.distance;
            const y = this.orbitY + Math.sin(this.angle) * this.distance * 0.7;
            ctx.save();
            ctx.translate(x, y);
            ctx.globalAlpha = 0.2;
            ctx.beginPath();
            ctx.arc(0, 0, this.radius + 5, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();
            ctx.globalAlpha = 1;
            ctx.beginPath();
            ctx.arc(0, 0, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();
            if (this.hasRing) {
              ctx.beginPath();
              ctx.ellipse(
                0,
                0,
                this.radius * 2,
                this.radius * 0.5,
                Math.PI * 0.1,
                0,
                Math.PI * 2
              );
              ctx.strokeStyle = `rgba(255, 255, 255, 0.5)`;
              ctx.lineWidth = 1.5;
              ctx.stroke();
            }
            ctx.restore();
          }
          update() {
            this.angle += this.speed;
          }
        }
        class Asteroid {
          constructor() {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.vx = (Math.random() - 0.5) * 0.3;
            this.vy = (Math.random() - 0.5) * 0.3;
            this.radius = Math.random() * 8 + 4;
            this.angle = 0;
            this.rotationSpeed = (Math.random() - 0.5) * 0.01;
            this.sides = Math.floor(Math.random() * 3 + 5);
            this.shape = [];
            for (let i = 0; i < this.sides; i++)
              this.shape.push(Math.random() * 0.5 + 0.75);
          }
          draw() {
            ctx.save();
            ctx.translate(this.x, this.y);
            ctx.rotate(this.angle);
            ctx.beginPath();
            ctx.moveTo(this.radius * this.shape[0], 0);
            for (let i = 1; i < this.sides; i++) {
              const angle = (i / this.sides) * Math.PI * 2;
              ctx.lineTo(
                this.radius * this.shape[i] * Math.cos(angle),
                this.radius * this.shape[i] * Math.sin(angle)
              );
            }
            ctx.closePath();
            ctx.fillStyle = "#5a5a5a";
            ctx.strokeStyle = "#8c8c8c";
            ctx.lineWidth = 1;
            ctx.fill();
            ctx.stroke();
            ctx.restore();
          }
          update() {
            this.x += this.vx;
            this.y += this.vy;
            this.angle += this.rotationSpeed;
            if (this.x < -this.radius) this.x = width + this.radius;
            if (this.x > width + this.radius) this.x = -this.radius;
            if (this.y < -this.radius) this.y = height + this.radius;
            if (this.y > height + this.radius) this.y = -this.radius;
          }
        }
        class Particle {
          constructor() {
            this.x = Math.random() * width;
            this.y = Math.random() * height;
            this.vx = (Math.random() - 0.5) * 0.1;
            this.vy = (Math.random() - 0.5) * 0.1;
            this.radius = Math.random() * 1;
            this.color = `hsla(${Math.random() * 60 + 300}, 100%, 80%, 0.5)`;
          }
          draw() {
            ctx.beginPath();
            ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
            ctx.fillStyle = this.color;
            ctx.fill();
          }
          update() {
            const dx = this.x - mouse.x;
            const dy = this.y - mouse.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < config.mouseInteractionRadius) {
              const angle = Math.atan2(dy, dx);
              this.x += Math.cos(angle) * 2;
              this.y += Math.sin(angle) * 2;
            } else {
              this.x += this.vx;
              this.y += this.vy;
            }
            if (this.x < 0 || this.x > width) this.vx *= -1;
            if (this.y < 0 || this.y > height) this.vy *= -1;
          }
        }
        class Comet {
          constructor() {
            this.x = Math.random() > 0.5 ? -50 : width + 50;
            this.y = Math.random() * height * 0.5;
            this.speed = Math.random() * 5 + 5;
            this.angle = this.x > width / 2 ? Math.PI * 0.75 : Math.PI * 0.25;
            this.trail = [];
          }
          draw() {
            for (let i = 0; i < this.trail.length; i++) {
              const p = this.trail[i];
              ctx.beginPath();
              ctx.arc(p.x, p.y, p.radius, 0, Math.PI * 2);
              ctx.fillStyle = `rgba(255, 223, 186, ${p.life})`;
              ctx.fill();
            }
          }
          update() {
            this.x += this.speed * Math.cos(this.angle);
            this.y += this.speed * Math.sin(this.angle);
            this.trail.push({
              x: this.x,
              y: this.y,
              life: 1,
              radius: Math.random() * 2,
            });
            this.trail.forEach((p) => (p.life -= 0.02));
            this.trail = this.trail.filter((p) => p.life > 0);
            if (
              this.trail.length === 0 &&
              (this.x < -50 || this.x > width + 50)
            ) {
              this.life = 0;
            }
          }
        }

        function animate(time) {
          ctx.clearRect(0, 0, width, height);
          const gradient = ctx.createRadialGradient(
            width / 2,
            height / 2,
            0,
            width / 2,
            height / 2,
            Math.max(width, height) / 1.5
          );
          const colorOffset = time * 0.00005;
          gradient.addColorStop(
            0,
            `hsla(${(300 + colorOffset * 10) % 360}, 100%, 80%, 0.15)`
          );
          gradient.addColorStop(
            0.5,
            `hsla(${(260 + colorOffset * 10) % 360}, 100%, 50%, 0.2)`
          );
          gradient.addColorStop(1, `hsla(240, 100%, 10%, 0)`);
          ctx.fillStyle = gradient;
          ctx.fillRect(0, 0, width, height);

          if (!isTransitioning) {
            if (Math.random() > config.cometFrequency)
              elements.push(new Comet());
            elements.forEach((el) => {
              el.update();
              el.draw();
            });
            elements = elements.filter((el) => el.life !== 0);
          } else {
            transitionProgress += config.clickTransitionSpeed;
            ctx.fillStyle = "rgba(255, 255, 255, 0.03)";
            for (let i = 0; i < 10; i++) {
              ctx.fillRect(0, 0, width, height);
            }
            ctx.font = "30px Dancing Script";
            ctx.fillStyle = `rgba(255, 193, 227, ${Math.max(
              0,
              1 - transitionProgress * 2
            )})`;
            ctx.textAlign = "center";
            ctx.fillText("Entering hyperspace...", width / 2, height / 2);
          }
          requestAnimationFrame(animate);
        }

        // --- Event Listeners ---
        const cursorGlow = document.getElementById("cursor-glow");
        document.addEventListener("mousemove", (e) => {
          mouse.x = e.clientX;
          mouse.y = e.clientY;
          cursorGlow.style.left = `${e.clientX}px`;
          cursorGlow.style.top = `${e.clientY}px`;
        });

        const starMessage = document.getElementById("star-message");
        canvas.addEventListener("click", (e) => {
          const clickableStar = elements.find((el) => el.isClickable);
          if (clickableStar) {
            const dx = e.clientX - clickableStar.x;
            const dy = e.clientY - clickableStar.y;
            const dist = Math.sqrt(dx * dx + dy * dy);
            if (dist < config.clickableStarRadius) {
              const messages = [
                "You are my brightest star",
                "Our love is written in the stars",
                "My universe begins and ends with you",
              ];
              starMessage.textContent =
                messages[Math.floor(Math.random() * messages.length)];
              starMessage.classList.add("visible");
              setTimeout(() => starMessage.classList.remove("visible"), 3000);
            }
          }
        });

        const journeyButton = document.getElementById("journey-button");
        journeyButton.addEventListener("mouseenter", (e) => {
          for (let i = 0; i < config.buttonHoverSparkleCount; i++) {
            const sparkle = document.createElement("div");
            sparkle.className = "sparkle";
            const angle = Math.random() * Math.PI * 2;
            const radius = Math.random() * 60 + 30;
            sparkle.style.width = sparkle.style.height = `${
              Math.random() * 4 + 2
            }px`;
            sparkle.style.left = `${e.clientX}px`;
            sparkle.style.top = `${e.clientY}px`;
            document.body.appendChild(sparkle);
            setTimeout(() => {
              sparkle.style.transform = `translate(${
                Math.cos(angle) * radius
              }px, ${Math.sin(angle) * radius}px) scale(0)`;
            }, 10);
            setTimeout(() => {
              sparkle.remove();
            }, 800);
          }
        });
        journeyButton.addEventListener("click", (e) => {
          e.preventDefault();
          const destination = e.currentTarget.href;
          isTransitioning = true;
          mainContent.style.transition = "opacity 1s";
          mainContent.style.opacity = "0";
          setTimeout(() => {
            window.location.href = destination;
          }, 1500);
        });

        // --- Future Prediction Listeners ---
        const futurePredictor = document.getElementById(
          "future-predictor-wrapper"
        );
        const loadingOverlay = document.getElementById("loading-overlay");
        const futureLightbox = document.getElementById("future-lightbox");
        const closeFutureLightbox = document.getElementById(
          "close-future-lightbox"
        );

        futurePredictor.addEventListener("click", () => {
          loadingOverlay.classList.add("visible");
          setTimeout(() => {
            loadingOverlay.classList.remove("visible");
            futureLightbox.classList.add("visible");
          }, 7000); // 7 second loading time
        });

        closeFutureLightbox.addEventListener("click", () => {
          futureLightbox.classList.remove("visible");
        });
        futureLightbox.addEventListener("click", (e) => {
          if (e.target === futureLightbox) {
            futureLightbox.classList.remove("visible");
          }
        });

        window.addEventListener("resize", init);
        init();
        animate(0);
      });
    </script>
  </body>
</html>
